<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <PropertyGroup Label="Microsoft.ReactNative Experimental Features">
    <!--
      Disable New Architecture (Fabric) to use stable Legacy TextInput.

      The Fabric TextInput in RNW 0.80 has known stability issues with
      multiline text measurement that cause access violations (0xC0000005).
      The legacy Bridge architecture TextInput is mature and stable.

      See: microsoft/react-native-windows #14357
    -->
    <RnwNewArch>false</RnwNewArch>

    <!--
      Changes compilation to assume use of Microsoft.ReactNative NuGet packages
      instead of building the framework from source. Defaults to true.

      This is set during app project creation and should not be changed.

      See https://microsoft.github.io/react-native-windows/docs/nuget
    -->
    <UseExperimentalNuget>true</UseExperimentalNuget>

    <ReactExperimentalFeaturesSet>true</ReactExperimentalFeaturesSet>

    <!--
      Disable Hermes JS engine to fix TextInput multiline crash.

      The Fabric (New Architecture) + Hermes combination causes access violations
      (0xC0000005) in multiline TextInput due to layout measurement race conditions.
      Chakra is more forgiving with memory access patterns in the hybrid Fabric code.

      See: microsoft/react-native-windows #14357
    -->
    <UseHermes>false</UseHermes>
  </PropertyGroup>

</Project>
