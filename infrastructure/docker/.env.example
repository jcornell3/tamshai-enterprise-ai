# Tamshai Corp Enterprise AI - Environment Variables (v1.4)
# Copy this file to .env and fill in your values

# =============================================================================
# CLAUDE API (Required for v1.4)
# =============================================================================
# Get your API key from https://console.anthropic.com/settings/keys
# v1.4: Used by MCP Gateway for SSE streaming and AI responses
CLAUDE_API_KEY=sk-ant-api03-your-key-here

# =============================================================================
# KEYCLOAK ADMIN
# =============================================================================
# REQUIRED: Set a secure password (not 'admin')
# For dev: generate with: openssl rand -base64 16
# For stage/prod: Use environment-specific secrets from GitHub Secrets
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=your-secure-admin-password-here

# =============================================================================
# DATABASE PASSWORDS
# =============================================================================
# Change these in production!
POSTGRES_PASSWORD=postgres_password
KEYCLOAK_DB_PASSWORD=keycloak_password
TAMSHAI_DB_PASSWORD=tamshai_password
MONGODB_PASSWORD=tamshai_password

# =============================================================================
# REDIS (Cache & Token Revocation)
# =============================================================================
# Password for Redis AUTH (required for docker-compose.secure.yml)
REDIS_PASSWORD=redis_password_change_in_production
# Rename CONFIG command for security (use random string or disable)
REDIS_CONFIG_CMD=CONFIG_DISABLED

# =============================================================================
# MINIO (S3-COMPATIBLE STORAGE)
# =============================================================================
# Change these in production!
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin

# =============================================================================
# MCP GATEWAY SECRETS
# =============================================================================
# Client secret for MCP Gateway (generated by Keycloak)
MCP_GATEWAY_CLIENT_SECRET=[REDACTED-DEV-SECRET]

# Admin API key for E2E snapshot/restore endpoints
# Used by integration tests to reset database state
E2E_ADMIN_API_KEY=e2e-test-admin-key

# =============================================================================
# MCP SERVICE SECRETS
# =============================================================================
# MCP UI service Keycloak client secret
MCP_UI_CLIENT_SECRET=mcp-ui-secret

# MCP HR service client secret for identity sync (Keycloak admin API)
MCP_HR_SERVICE_CLIENT_SECRET=hr-service-secret

# v1.5: Internal HMAC secret for MCP Gateway -> MCP Server authentication
# This prevents direct access bypass attacks. Generate with: openssl rand -hex 32
# REQUIRED for stage/prod, optional for local dev (auth bypassed when empty)
MCP_INTERNAL_SECRET=

# Integration test service account secret (for token exchange)
# Used by integration tests to authenticate with Keycloak and impersonate test users
# Generate with: openssl rand -base64 32
# REQUIRED in CI/CD, optional for local dev (tests will use ROPC if not set)
MCP_INTEGRATION_RUNNER_SECRET=

# =============================================================================
# GEMINI API (Optional - for AI features)
# =============================================================================
# Get your API key from https://aistudio.google.com/app/apikey
GEMINI_API_KEY=

# =============================================================================
# VAULT (Dev Only)
# =============================================================================
# Vault dev server root token (not for production)
VAULT_DEV_ROOT_TOKEN_ID=dev-root-token

# =============================================================================
# JWT SIGNING (FOR TESTING)
# =============================================================================
# Only used for local testing, production uses Keycloak's keys
JWT_SECRET=local-dev-secret-change-in-production

# =============================================================================
# LOG LEVELS
# =============================================================================
# Options: error, warn, info, debug
LOG_LEVEL=debug

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable/disable features for development
ENABLE_AUDIT_LOGGING=true
ENABLE_RATE_LIMITING=true
ENABLE_QUERY_FILTERING=true
