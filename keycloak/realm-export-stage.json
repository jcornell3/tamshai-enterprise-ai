{
  "id": "tamshai-corp",
  "realm": "tamshai-corp",
  "displayName": "Tamshai Corp",
  "displayNameHtml": "<div class=\"kc-logo-text\"><span>Tamshai Corp</span></div>",
  "enabled": true,
  "sslRequired": "external",
  "registrationAllowed": false,
  "loginWithEmailAllowed": true,
  "duplicateEmailsAllowed": false,
  "resetPasswordAllowed": true,
  "editUsernameAllowed": false,
  "bruteForceProtected": true,
  "permanentLockout": false,
  "maxFailureWaitSeconds": 900,
  "minimumQuickLoginWaitSeconds": 60,
  "waitIncrementSeconds": 60,
  "quickLoginCheckMilliSeconds": 1000,
  "maxDeltaTimeSeconds": 43200,
  "failureFactor": 5,
  "accessTokenLifespan": 300,
  "accessTokenLifespanForImplicitFlow": 300,
  "ssoSessionIdleTimeout": 1800,
  "ssoSessionMaxLifespan": 36000,
  "offlineSessionIdleTimeout": 2592000,
  "accessCodeLifespan": 60,
  "accessCodeLifespanUserAction": 300,
  "accessCodeLifespanLogin": 1800,
  "actionTokenGeneratedByAdminLifespan": 43200,
  "actionTokenGeneratedByUserLifespan": 300,
  "otpPolicyType": "totp",
  "otpPolicyAlgorithm": "HmacSHA1",
  "otpPolicyInitialCounter": 0,
  "otpPolicyDigits": 6,
  "otpPolicyLookAheadWindow": 1,
  "otpPolicyPeriod": 30,
  "otpSupportedApplications": [
    "totpAppGoogleName",
    "totpAppMicrosoftAuthenticatorName",
    "totpAppFreeOTPName"
  ],
  "roles": {
    "realm": [
      {
        "name": "hr-read",
        "description": "Read access to HR data (employee names, departments, org chart)"
      },
      {
        "name": "hr-write",
        "description": "Full access to HR data (includes salaries, performance data)"
      },
      {
        "name": "finance-read",
        "description": "Read access to finance data (budget summaries, public reports)"
      },
      {
        "name": "finance-write",
        "description": "Full access to finance data (detailed financials, invoices)"
      },
      {
        "name": "sales-read",
        "description": "Read access to CRM data (company names, deal pipeline)"
      },
      {
        "name": "sales-write",
        "description": "Full access to CRM data (contact details, deal values)"
      },
      {
        "name": "support-read",
        "description": "Read access to support data (tickets with masked PII, KB articles)"
      },
      {
        "name": "support-write",
        "description": "Full access to support data (full ticket details)"
      },
      {
        "name": "employee",
        "description": "Base employee role - allows self-access to all MCP servers via RLS"
      },
      {
        "name": "manager",
        "description": "Manager role - can view direct reports data"
      },
      {
        "name": "executive",
        "description": "Executive role - read access to all departments",
        "composite": true,
        "composites": {
          "realm": [
            "hr-read",
            "finance-read",
            "sales-read",
            "support-read"
          ]
        }
      }
    ]
  },
  "groups": [
    {
      "name": "HR-Department",
      "path": "/HR-Department",
      "realmRoles": [
        "hr-read",
        "hr-write"
      ]
    },
    {
      "name": "Finance-Team",
      "path": "/Finance-Team",
      "realmRoles": [
        "finance-read",
        "finance-write"
      ]
    },
    {
      "name": "Sales-Team",
      "path": "/Sales-Team",
      "realmRoles": [
        "sales-read"
      ]
    },
    {
      "name": "Sales-Managers",
      "path": "/Sales-Managers",
      "realmRoles": [
        "sales-read",
        "sales-write",
        "manager"
      ]
    },
    {
      "name": "Support-Team",
      "path": "/Support-Team",
      "realmRoles": [
        "support-read"
      ]
    },
    {
      "name": "Engineering-Team",
      "path": "/Engineering-Team",
      "realmRoles": []
    },
    {
      "name": "Engineering-Managers",
      "path": "/Engineering-Managers",
      "realmRoles": [
        "manager"
      ]
    },
    {
      "name": "IT-Team",
      "path": "/IT-Team",
      "realmRoles": []
    },
    {
      "name": "Managers",
      "path": "/Managers",
      "realmRoles": [
        "manager"
      ]
    },
    {
      "name": "C-Suite",
      "path": "/C-Suite",
      "realmRoles": [
        "executive",
        "manager"
      ]
    }
  ],
  "users": [
    {
      "username": "test-user.journey",
      "email": "test-user@tamshai.com",
      "emailVerified": true,
      "enabled": true,
      "firstName": "Test",
      "lastName": "User",
      "attributes": {
        "employeeId": ["TEST001"],
        "department": ["Testing"],
        "title": ["Journey Test Account"]
      },
      "groups": ["/All-Employees"],
      "credentials": [
        {
          "type": "password",
          "value": "__TEST_USER_PASSWORD__",
          "temporary": false
        },
        {
          "type": "otp",
          "secretData": "{\"value\":\"__TEST_USER_TOTP_SECRET__\"}",
          "credentialData": "{\"subType\":\"totp\",\"period\":30,\"digits\":6,\"algorithm\":\"HmacSHA1\"}"
        }
      ]
    }
  ],
  "clients": [
    {
      "clientId": "ai-desktop",
      "name": "Tamshai AI Desktop",
      "description": "Desktop application for AI assistant",
      "enabled": true,
      "publicClient": true,
      "standardFlowEnabled": true,
      "directAccessGrantsEnabled": false,
      "serviceAccountsEnabled": false,
      "protocol": "openid-connect",
      "redirectUris": [
        "http://localhost:3100/callback",
        "tamshai-ai://callback"
      ],
      "webOrigins": [
        "http://localhost:3100"
      ],
      "attributes": {
        "pkce.code.challenge.method": "S256"
      },
      "defaultClientScopes": [
        
        "profile",
        "email",
        "roles"
      ]
    },
    {
      "clientId": "ai-mobile",
      "name": "Tamshai AI Mobile",
      "description": "Mobile application for AI assistant",
      "enabled": true,
      "publicClient": true,
      "standardFlowEnabled": true,
      "directAccessGrantsEnabled": false,
      "serviceAccountsEnabled": false,
      "protocol": "openid-connect",
      "redirectUris": [
        "com.tamshai.ai://callback",
        "com.tamshai.ai.dev://callback",
        "ms-app://*"
      ],
      "attributes": {
        "pkce.code.challenge.method": "S256"
      },
      "defaultClientScopes": [
        
        "profile",
        "email",
        "roles"
      ]
    },
    {
      "clientId": "hr-app",
      "name": "Tamshai HR Application",
      "description": "Human Resources self-service application with hierarchical access",
      "enabled": true,
      "publicClient": true,
      "standardFlowEnabled": true,
      "directAccessGrantsEnabled": false,
      "serviceAccountsEnabled": false,
      "protocol": "openid-connect",
      "redirectUris": [
        "http://localhost:4001/callback",
        "http://localhost:4001/*",
        "https://www.tamshai.com/*",
        "https://prod.tamshai.com/*"
      ],
      "webOrigins": [
        "http://localhost:4001",
        "https://www.tamshai.com",
        "https://prod.tamshai.com"
      ],
      "attributes": {
        "pkce.code.challenge.method": "S256"
      },
      "defaultClientScopes": [
        
        "profile",
        "email",
        "roles"
      ]
    },
    {
      "clientId": "finance-app",
      "name": "Tamshai Finance Application",
      "description": "Financial reporting and budget management application",
      "enabled": true,
      "publicClient": true,
      "standardFlowEnabled": true,
      "directAccessGrantsEnabled": false,
      "serviceAccountsEnabled": false,
      "protocol": "openid-connect",
      "redirectUris": [
        "http://localhost:4002/callback",
        "http://localhost:4002/*",
        "https://www.tamshai.com/*",
        "https://prod.tamshai.com/*"
      ],
      "webOrigins": [
        "http://localhost:4002",
        "https://www.tamshai.com",
        "https://prod.tamshai.com"
      ],
      "attributes": {
        "pkce.code.challenge.method": "S256"
      },
      "defaultClientScopes": [
        
        "profile",
        "email",
        "roles"
      ]
    },
    {
      "clientId": "sales-app",
      "name": "Tamshai Sales CRM Application",
      "description": "Customer relationship management application",
      "enabled": true,
      "publicClient": true,
      "standardFlowEnabled": true,
      "directAccessGrantsEnabled": false,
      "serviceAccountsEnabled": false,
      "protocol": "openid-connect",
      "redirectUris": [
        "http://localhost:4003/callback",
        "http://localhost:4003/*",
        "https://www.tamshai.com/*",
        "https://prod.tamshai.com/*"
      ],
      "webOrigins": [
        "http://localhost:4003",
        "https://www.tamshai.com",
        "https://prod.tamshai.com"
      ],
      "attributes": {
        "pkce.code.challenge.method": "S256"
      },
      "defaultClientScopes": [
        
        "profile",
        "email",
        "roles"
      ]
    },
    {
      "clientId": "support-app",
      "name": "Tamshai Support Application",
      "description": "Customer support ticketing application",
      "enabled": true,
      "publicClient": true,
      "standardFlowEnabled": true,
      "directAccessGrantsEnabled": false,
      "serviceAccountsEnabled": false,
      "protocol": "openid-connect",
      "redirectUris": [
        "http://localhost:4004/callback",
        "http://localhost:4004/*",
        "https://www.tamshai.com/*",
        "https://prod.tamshai.com/*"
      ],
      "webOrigins": [
        "http://localhost:4004",
        "https://www.tamshai.com",
        "https://prod.tamshai.com"
      ],
      "attributes": {
        "pkce.code.challenge.method": "S256"
      },
      "defaultClientScopes": [
        
        "profile",
        "email",
        "roles"
      ]
    },
    {
      "clientId": "tamshai-flutter-client",
      "name": "Tamshai Flutter Application",
      "description": "Cross-platform Flutter application for AI assistant (Windows, macOS, iOS, Android)",
      "enabled": true,
      "publicClient": true,
      "standardFlowEnabled": true,
      "directAccessGrantsEnabled": false,
      "serviceAccountsEnabled": false,
      "protocol": "openid-connect",
      "redirectUris": [
        "http://localhost:*/callback",
        "http://127.0.0.1:*/callback",
        "com.tamshai.ai://callback",
        "com.tamshai.unifiedflutter://callback"
      ],
      "webOrigins": [
        "http://localhost",
        "http://127.0.0.1"
      ],
      "attributes": {
        "pkce.code.challenge.method": "S256",
        "post.logout.redirect.uris": "http://localhost:*/logout##http://127.0.0.1:*/logout##com.tamshai.ai://logout##com.tamshai.unifiedflutter://logout"
      },
      "defaultClientScopes": [

        "profile",
        "email",
        "roles"
      ]
    },
    {
      "clientId": "tamshai-website",
      "name": "Tamshai Corporate Website",
      "description": "Corporate website SSO login for employee services",
      "enabled": true,
      "publicClient": true,
      "standardFlowEnabled": true,
      "directAccessGrantsEnabled": false,
      "serviceAccountsEnabled": false,
      "protocol": "openid-connect",
      "redirectUris": [
        "http://localhost:8080/employee-services.html",
        "http://localhost:8080/*",
        "https://tamshai.local/employee-services.html",
        "https://tamshai.local/*",
        "https://www.tamshai.local/employee-services.html",
        "https://www.tamshai.local/*",
        "https://vps.tamshai.com/employee-services.html",
        "https://vps.tamshai.com/*",
        "https://prod.tamshai.com/employee-services.html",
        "https://prod.tamshai.com/*",
        "https://tamshai.com/employee-services.html",
        "https://tamshai.com/*",
        "https://www.tamshai.com/employee-services.html",
        "https://www.tamshai.com/*"
      ],
      "webOrigins": [
        "http://localhost:8080",
        "https://tamshai.local",
        "https://www.tamshai.local",
        "https://vps.tamshai.com",
        "https://prod.tamshai.com",
        "https://tamshai.com",
        "https://www.tamshai.com"
      ],
      "attributes": {
        "pkce.code.challenge.method": "S256",
        "post.logout.redirect.uris": "http://localhost:8080/*##https://tamshai.local/*##https://www.tamshai.local/*##https://vps.tamshai.com/*##https://prod.tamshai.com/*##https://tamshai.com/*##https://www.tamshai.com/*"
      },
      "defaultClientScopes": [

        "profile",
        "email",
        "roles"
      ],
      "protocolMappers": [
        {
          "name": "mcp-gateway-audience",
          "protocol": "openid-connect",
          "protocolMapper": "oidc-audience-mapper",
          "consentRequired": false,
          "config": {
            "included.client.audience": "mcp-gateway",
            "id.token.claim": "false",
            "access.token.claim": "true"
          }
        }
      ]
    }
  ],
  "clientScopes": [
    {
      "name": "profile",
      "description": "OpenID Connect built-in scope: profile",
      "protocol": "openid-connect",
      "attributes": {
        "include.in.token.scope": "true",
        "display.on.consent.screen": "true",
        "consent.screen.text": "${profileScopeConsentText}"
      },
      "protocolMappers": [
        {
          "name": "username",
          "protocol": "openid-connect",
          "protocolMapper": "oidc-usermodel-attribute-mapper",
          "consentRequired": false,
          "config": {
            "userinfo.token.claim": "true",
            "user.attribute": "username",
            "id.token.claim": "true",
            "access.token.claim": "true",
            "claim.name": "preferred_username",
            "jsonType.label": "String"
          }
        },
        {
          "name": "given name",
          "protocol": "openid-connect",
          "protocolMapper": "oidc-usermodel-attribute-mapper",
          "consentRequired": false,
          "config": {
            "userinfo.token.claim": "true",
            "user.attribute": "firstName",
            "id.token.claim": "true",
            "access.token.claim": "true",
            "claim.name": "given_name",
            "jsonType.label": "String"
          }
        },
        {
          "name": "family name",
          "protocol": "openid-connect",
          "protocolMapper": "oidc-usermodel-attribute-mapper",
          "consentRequired": false,
          "config": {
            "userinfo.token.claim": "true",
            "user.attribute": "lastName",
            "id.token.claim": "true",
            "access.token.claim": "true",
            "claim.name": "family_name",
            "jsonType.label": "String"
          }
        },
        {
          "name": "full name",
          "protocol": "openid-connect",
          "protocolMapper": "oidc-full-name-mapper",
          "consentRequired": false,
          "config": {
            "userinfo.token.claim": "true",
            "id.token.claim": "true",
            "access.token.claim": "true"
          }
        }
      ]
    },
    {
      "name": "email",
      "description": "OpenID Connect built-in scope: email",
      "protocol": "openid-connect",
      "attributes": {
        "include.in.token.scope": "true",
        "display.on.consent.screen": "true",
        "consent.screen.text": "${emailScopeConsentText}"
      },
      "protocolMappers": [
        {
          "name": "email",
          "protocol": "openid-connect",
          "protocolMapper": "oidc-usermodel-attribute-mapper",
          "consentRequired": false,
          "config": {
            "userinfo.token.claim": "true",
            "user.attribute": "email",
            "id.token.claim": "true",
            "access.token.claim": "true",
            "claim.name": "email",
            "jsonType.label": "String"
          }
        },
        {
          "name": "email verified",
          "protocol": "openid-connect",
          "protocolMapper": "oidc-usermodel-attribute-mapper",
          "consentRequired": false,
          "config": {
            "userinfo.token.claim": "true",
            "user.attribute": "emailVerified",
            "id.token.claim": "true",
            "access.token.claim": "true",
            "claim.name": "email_verified",
            "jsonType.label": "boolean"
          }
        }
      ]
    },
    {
      "name": "web-origins",
      "description": "OpenID Connect scope for add allowed web origins to access token",
      "protocol": "openid-connect",
      "attributes": {
        "include.in.token.scope": "false",
        "display.on.consent.screen": "false"
      },
      "protocolMappers": [
        {
          "name": "allowed web origins",
          "protocol": "openid-connect",
          "protocolMapper": "oidc-allowed-origins-mapper",
          "consentRequired": false
        }
      ]
    },
    {
      "name": "roles",
      "description": "OpenID Connect scope for user roles",
      "protocol": "openid-connect",
      "attributes": {
        "include.in.token.scope": "true",
        "display.on.consent.screen": "true"
      },
      "protocolMappers": [
        {
          "name": "realm roles",
          "protocol": "openid-connect",
          "protocolMapper": "oidc-usermodel-realm-role-mapper",
          "consentRequired": false,
          "config": {
            "multivalued": "true",
            "userinfo.token.claim": "true",
            "id.token.claim": "true",
            "access.token.claim": "true",
            "claim.name": "realm_access.roles",
            "jsonType.label": "String"
          }
        },
        {
          "name": "groups",
          "protocol": "openid-connect",
          "protocolMapper": "oidc-group-membership-mapper",
          "consentRequired": false,
          "config": {
            "full.path": "true",
            "id.token.claim": "true",
            "access.token.claim": "true",
            "claim.name": "groups",
            "userinfo.token.claim": "true"
          }
        },
        {
          "name": "preferred_username",
          "protocol": "openid-connect",
          "protocolMapper": "oidc-usermodel-attribute-mapper",
          "consentRequired": false,
          "config": {
            "userinfo.token.claim": "true",
            "user.attribute": "username",
            "id.token.claim": "true",
            "access.token.claim": "true",
            "claim.name": "preferred_username",
            "jsonType.label": "String"
          }
        },
        {
          "name": "email",
          "protocol": "openid-connect",
          "protocolMapper": "oidc-usermodel-attribute-mapper",
          "consentRequired": false,
          "config": {
            "userinfo.token.claim": "true",
            "user.attribute": "email",
            "id.token.claim": "true",
            "access.token.claim": "true",
            "claim.name": "email",
            "jsonType.label": "String"
          }
        },
        {
          "name": "given_name",
          "protocol": "openid-connect",
          "protocolMapper": "oidc-usermodel-attribute-mapper",
          "consentRequired": false,
          "config": {
            "userinfo.token.claim": "true",
            "user.attribute": "firstName",
            "id.token.claim": "true",
            "access.token.claim": "true",
            "claim.name": "given_name",
            "jsonType.label": "String"
          }
        },
        {
          "name": "family_name",
          "protocol": "openid-connect",
          "protocolMapper": "oidc-usermodel-attribute-mapper",
          "consentRequired": false,
          "config": {
            "userinfo.token.claim": "true",
            "user.attribute": "lastName",
            "id.token.claim": "true",
            "access.token.claim": "true",
            "claim.name": "family_name",
            "jsonType.label": "String"
          }
        }
      ]
    },
    {
      "name": "offline_access",
      "description": "OpenID Connect built-in scope: offline_access",
      "protocol": "openid-connect",
      "attributes": {
        "consent.screen.text": "${offlineAccessScopeConsentText}",
        "display.on.consent.screen": "true"
      }
    }
  ],
  "requiredActions": [
    {
      "alias": "CONFIGURE_TOTP",
      "name": "Configure OTP",
      "providerId": "CONFIGURE_TOTP",
      "enabled": true,
      "defaultAction": true,
      "priority": 10
    },
    {
      "alias": "CONFIGURE_RECOVERY_AUTHN_CODES",
      "name": "Recovery Authentication Codes",
      "providerId": "CONFIGURE_RECOVERY_AUTHN_CODES",
      "enabled": true,
      "defaultAction": false,
      "priority": 20
    }
  ],
  "authenticationFlows": [
    {
      "alias": "browser-with-otp",
      "description": "Browser flow with required OTP",
      "providerId": "basic-flow",
      "topLevel": true,
      "builtIn": false,
      "authenticationExecutions": [
        {
          "authenticator": "auth-cookie",
          "authenticatorFlow": false,
          "requirement": "ALTERNATIVE",
          "priority": 10
        },
        {
          "authenticatorFlow": true,
          "requirement": "ALTERNATIVE",
          "priority": 20,
          "flowAlias": "browser-with-otp forms"
        }
      ]
    },
    {
      "alias": "browser-with-otp forms",
      "description": "Username, password, and OTP form",
      "providerId": "basic-flow",
      "topLevel": false,
      "builtIn": false,
      "authenticationExecutions": [
        {
          "authenticator": "auth-username-password-form",
          "authenticatorFlow": false,
          "requirement": "REQUIRED",
          "priority": 10
        },
        {
          "authenticator": "auth-otp-form",
          "authenticatorFlow": false,
          "requirement": "REQUIRED",
          "priority": 20
        }
      ]
    }
  ],
  "browserFlow": "browser-with-otp",
  "registrationFlow": "registration",
  "directGrantFlow": "direct grant",
  "resetCredentialsFlow": "reset credentials",
  "clientAuthenticationFlow": "clients"
}