# CodeQL Configuration
# This file controls which paths CodeQL scans and excludes

name: "Tamshai CodeQL Config"

# Only scan JavaScript and TypeScript
# Explicitly do NOT scan Java/Kotlin (React Native/Flutter platform code)
languages:
  - javascript-typescript

# Paths to ignore during analysis
# These contain third-party code or platform-specific code we don't maintain
paths-ignore:
  # Node modules (third-party dependencies)
  - '**/node_modules/**'

  # DEPRECATED: React Native client (replaced by Flutter - see ADR-005)
  # Entire directory excluded from scanning
  - 'clients/unified/**'
  - 'clients/desktop/**'

  # Flutter Android platform code (generated, not maintained)
  - 'clients/unified_flutter/android/**'

  # Flutter iOS platform code (generated, not maintained)
  - 'clients/unified_flutter/ios/**'

  # Flutter build outputs
  - 'clients/unified_flutter/build/**'
  - 'clients/unified_flutter/.dart_tool/**'

  # Build outputs
  - '**/build/**'
  - '**/dist/**'
  - '**/coverage/**'

  # Test fixtures and mocks (lower priority)
  - '**/__mocks__/**'
  - '**/__fixtures__/**'

  # Generated code
  - '**/*.g.dart'
  - '**/*.freezed.dart'

# Paths to explicitly include (our actual source code)
# Note: clients/unified and clients/desktop are deprecated React Native code
paths:
  - 'services/**'
  - 'clients/web/**'
  - 'clients/unified_flutter/lib/**'
  - 'clients/unified_flutter/test/**'
  - 'tests/**'
  - 'apps/**'

# Use security-extended queries
queries:
  - uses: security-extended
